<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LifeSimulator: Open World</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            color: white;
            padding: 10px;
            overflow-x: hidden;
        }

        .container {
            max-width: 100%;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 15px;
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 15px;
        }

        .header h1 {
            font-size: 20px;
            margin-bottom: 5px;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .game-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .game-map {
            background: rgba(0,0,0,0.5);
            border-radius: 15px;
            padding: 10px;
            position: relative;
            height: 300px;
            overflow: hidden;
        }

        .map-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            grid-template-rows: repeat(10, 1fr);
            gap: 2px;
            height: 100%;
        }

        .map-cell {
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            transition: all 0.3s;
        }

        .map-cell.house { background: rgba(255,100,100,0.6); }
        .map-cell.car { background: rgba(100,100,255,0.6); }
        .map-cell.bus { background: rgba(255,200,100,0.6); }
        .map-cell.work { background: rgba(100,255,100,0.6); }
        .map-cell.casino { background: rgba(255,100,255,0.6); }
        .map-cell.bank { background: rgba(255,255,100,0.6); }

        .player {
            position: absolute;
            width: 20px;
            height: 20px;
            background: #FFD700;
            border-radius: 50%;
            border: 2px solid #FFA500;
            transition: all 0.2s;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-radius: 15px;
        }

        .control-btn {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .control-btn:active {
            background: rgba(255,255,255,0.4);
            transform: scale(0.95);
        }

        .center-controls {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .stat-card {
            background: rgba(255,255,255,0.1);
            padding: 12px;
            border-radius: 10px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .stat-value {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 11px;
            opacity: 0.8;
        }

        .tabs {
            display: flex;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 5px;
            margin-bottom: 15px;
            overflow-x: auto;
        }

        .tab {
            flex: 1;
            padding: 12px 8px;
            text-align: center;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            font-size: 12px;
            min-width: 80px;
            white-space: nowrap;
        }

        .tab.active {
            background: rgba(255,255,255,0.2);
        }

        .content-area {
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            min-height: 200px;
        }

        .location-info {
            text-align: center;
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        .action-btn {
            background: linear-gradient(45deg, #FF6B6B, #FF8E53);
            border: none;
            color: white;
            padding: 12px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .action-btn:active {
            transform: scale(0.95);
        }

        .action-btn.secondary {
            background: linear-gradient(45deg, #4ECDC4, #44A08D);
        }

        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .notification.show {
            opacity: 1;
        }

        .building-menu {
            display: none;
            position: absolute;
            background: rgba(0,0,0,0.9);
            border-radius: 10px;
            padding: 15px;
            z-index: 100;
            min-width: 200px;
        }

        .building-option {
            padding: 10px;
            margin: 5px 0;
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .building-option:hover {
            background: rgba(255,255,255,0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèôÔ∏è LifeSimulator: Open World</h1>
            <p>–£–ø—Ä–∞–≤–ª—è–π –∂–∏–∑–Ω—å—é —Å–≤–æ–µ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –º–∏—Ä–µ!</p>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="money">$1,000</div>
                <div class="stat-label">üíµ –î–µ–Ω—å–≥–∏</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="energy">100%</div>
                <div class="stat-label">‚ö° –≠–Ω–µ—Ä–≥–∏—è</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="level">1</div>
                <div class="stat-label">‚≠ê –£—Ä–æ–≤–µ–Ω—å</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="time">08:00</div>
                <div class="stat-label">üïê –í—Ä–µ–º—è</div>
            </div>
        </div>

        <div class="game-container">
            <div class="game-map">
                <div class="map-grid" id="mapGrid">
                    <!-- –ö–∞—Ä—Ç–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JavaScript -->
                </div>
                <div class="player" id="player" style="top: 140px; left: 140px;">üë§</div>
                <div class="building-menu" id="buildingMenu">
                    <div class="building-option" onclick="enterBuilding('house')">üè† –í–æ–π—Ç–∏ –≤ –¥–æ–º</div>
                    <div class="building-option" onclick="enterBuilding('car')">üöó –°–µ—Å—Ç—å –≤ –º–∞—à–∏–Ω—É</div>
                    <div class="building-option" onclick="enterBuilding('bus')">üöå –°–µ—Å—Ç—å –≤ –∞–≤—Ç–æ–±—É—Å</div>
                    <div class="building-option" onclick="enterBuilding('work')">üíº –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É</div>
                    <div class="building-option" onclick="enterBuilding('casino')">üé∞ –ò–≥—Ä–∞—Ç—å –≤ –∫–∞–∑–∏–Ω–æ</div>
                </div>
            </div>

            <div class="controls">
                <div></div>
                <div class="center-controls">
                    <button class="control-btn" onclick="movePlayer('up')">‚¨ÜÔ∏è</button>
                    <div style="display: flex; gap: 10px;">
                        <button class="control-btn" onclick="movePlayer('left')">‚¨ÖÔ∏è</button>
                        <button class="control-btn" onclick="movePlayer('right')">‚û°Ô∏è</button>
                    </div>
                    <button class="control-btn" onclick="movePlayer('down')">‚¨áÔ∏è</button>
                </div>
                <button class="control-btn" onclick="interact()">üéØ</button>
            </div>
        </div>

        <div class="tabs">
            <div class="tab active" data-tab="location">üìç –õ–æ–∫–∞—Ü–∏—è</div>
            <div class="tab" data-tab="inventory">üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</div>
            <div class="tab" data-tab="skills">üí™ –ù–∞–≤—ã–∫–∏</div>
            <div class="tab" data-tab="map">üó∫Ô∏è –ö–∞—Ä—Ç–∞</div>
            <div class="tab" data-tab="jobs">üíº –†–∞–±–æ—Ç–∞</div>
        </div>

        <div class="content-area">
            <div class="tab-content active" id="locationContent">
                <div class="location-info">
                    <h3>üìç –¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è</h3>
                    <p id="currentLocation">–£–ª–∏—Ü–∞ –≥–æ—Ä–æ–¥–∞</p>
                </div>
                <div class="action-buttons">
                    <button class="action-btn" onclick="work()">üíº –†–∞–±–æ—Ç–∞—Ç—å</button>
                    <button class="action-btn secondary" onclick="rest()">üè† –û—Ç–¥—ã—Ö–∞—Ç—å</button>
                    <button class="action-btn" onclick="driveCar()">üöó –ü–æ–µ—Ö–∞—Ç—å</button>
                    <button class="action-btn secondary" onclick="takeBus()">üöå –ê–≤—Ç–æ–±—É—Å</button>
                </div>
            </div>

            <div class="tab-content" id="inventoryContent" style="display: none;">
                <h3>üéí –í–∞—à –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
                <div id="inventoryItems">
                    <p>üöó –ú–∞—à–∏–Ω–∞: Honda Civic</p>
                    <p>üè† –î–æ–º: –ö–≤–∞—Ä—Ç–∏—Ä–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ</p>
                    <p>üí≥ –ù–∞–ª–∏—á–Ω—ã–µ: $1,000</p>
                    <p>üì± –¢–µ–ª–µ—Ñ–æ–Ω: iPhone 15</p>
                </div>
            </div>

            <div class="tab-content" id="skillsContent" style="display: none;">
                <h3>üí™ –í–∞—à–∏ –Ω–∞–≤—ã–∫–∏</h3>
                <div id="skillsList">
                    <p>üíº –†–∞–±–æ—Ç–∞: –£—Ä–æ–≤–µ–Ω—å 2</p>
                    <p>üöó –í–æ–∂–¥–µ–Ω–∏–µ: –£—Ä–æ–≤–µ–Ω—å 3</p>
                    <p>üé∞ –ê–∑–∞—Ä—Ç–Ω—ã–µ –∏–≥—Ä—ã: –£—Ä–æ–≤–µ–Ω—å 1</p>
                    <p>üí∏ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏: –£—Ä–æ–≤–µ–Ω—å 1</p>
                </div>
            </div>

            <div class="tab-content" id="mapContent" style="display: none;">
                <h3>üó∫Ô∏è –ö–∞—Ä—Ç–∞ –≥–æ—Ä–æ–¥–∞</h3>
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                    <p>üè† –ñ–∏–ª–æ–π —Ä–∞–π–æ–Ω</p>
                    <p>üè¢ –î–µ–ª–æ–≤–æ–π —Ü–µ–Ω—Ç—Ä</p>
                    <p>üõçÔ∏è –¢–æ—Ä–≥–æ–≤—ã–π —Ü–µ–Ω—Ç—Ä</p>
                    <p>üé∞ –ö–∞–∑–∏–Ω–æ "–ó–æ–ª–æ—Ç–æ"</p>
                    <p>üöå –ê–≤—Ç–æ–±—É—Å–Ω–∞—è —Å—Ç–∞–Ω—Ü–∏—è</p>
                </div>
            </div>

            <div class="tab-content" id="jobsContent" style="display: none;">
                <h3>üíº –î–æ—Å—Ç—É–ø–Ω–∞—è —Ä–∞–±–æ—Ç–∞</h3>
                <div class="action-buttons">
                    <button class="action-btn" onclick="startJob('driver')">üöï –¢–∞–∫—Å–∏—Å—Ç</button>
                    <button class="action-btn secondary" onclick="startJob('office')">üè¢ –û—Ñ–∏—Å</button>
                    <button class="action-btn" onclick="startJob('casino')">üé∞ –ö–∞–∑–∏–Ω–æ</button>
                    <button class="action-btn secondary" onclick="startJob('investor')">üí∏ –ò–Ω–≤–µ—Å—Ç–æ—Ä</button>
                </div>
            </div>
        </div>
    </div>

    <div class="notification" id="notification"></div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.enableClosingConfirmation();

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
        let gameState = {
            money: 1000,
            energy: 100,
            level: 1,
            time: "08:00",
            playerPosition: { x: 140, y: 140 },
            currentLocation: "–£–ª–∏—Ü–∞ –≥–æ—Ä–æ–¥–∞",
            inventory: {
                car: "Honda Civic",
                house: "–ö–≤–∞—Ä—Ç–∏—Ä–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ",
                cash: 1000,
                phone: "iPhone 15"
            },
            skills: {
                work: 2,
                driving: 3,
                gambling: 1,
                investing: 1
            },
            buildings: [
                { type: "house", x: 100, y: 100, name: "–í–∞—à –¥–æ–º" },
                { type: "car", x: 180, y: 100, name: "–í–∞—à–∞ –º–∞—à–∏–Ω–∞" },
                { type: "bus", x: 100, y: 180, name: "–ê–≤—Ç–æ–±—É—Å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞" },
                { type: "work", x: 180, y: 180, name: "–û—Ñ–∏—Å" },
                { type: "casino", x: 260, y: 140, name: "–ö–∞–∑–∏–Ω–æ" },
                { type: "bank", x: 140, y: 260, name: "–ë–∞–Ω–∫" }
            ]
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initGame() {
            generateMap();
            updateUI();
            setupKeyboardControls();
            startGameClock();
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
        function generateMap() {
            const mapGrid = document.getElementById('mapGrid');
            mapGrid.innerHTML = '';

            // –°–æ–∑–¥–∞–µ–º —Å–µ—Ç–∫—É 10x10
            for (let i = 0; i < 100; i++) {
                const cell = document.createElement('div');
                cell.className = 'map-cell';
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∑–¥–∞–Ω–∏—è –Ω–∞ –∫–∞—Ä—Ç—É
                gameState.buildings.forEach(building => {
                    const gridX = Math.floor(building.x / 30);
                    const gridY = Math.floor(building.y / 30);
                    if (i === gridY * 10 + gridX) {
                        cell.className += ` ${building.type}`;
                        cell.innerHTML = getBuildingEmoji(building.type);
                    }
                });

                mapGrid.appendChild(cell);
            }
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ —ç–º–æ–¥–∑–∏ –¥–ª—è –∑–¥–∞–Ω–∏–π
        function getBuildingEmoji(type) {
            const emojis = {
                house: "üè†",
                car: "üöó",
                bus: "üöå",
                work: "üè¢",
                casino: "üé∞",
                bank: "üè¶"
            };
            return emojis[type] || "üìç";
        }

        // –î–≤–∏–∂–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
        function movePlayer(direction) {
            const player = document.getElementById('player');
            const step = 30;
            let newX = gameState.playerPosition.x;
            let newY = gameState.playerPosition.y;

            switch(direction) {
                case 'up': newY = Math.max(20, newY - step); break;
                case 'down': newY = Math.min(280, newY + step); break;
                case 'left': newX = Math.max(20, newX - step); break;
                case 'right': newX = Math.min(280, newX + step); break;
            }

            gameState.playerPosition = { x: newX, y: newY };
            player.style.left = newX + 'px';
            player.style.top = newY + 'px';

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è —Ä—è–¥–æ–º —Å–æ –∑–¥–∞–Ω–∏–µ–º
            checkBuildingProximity();
            updateLocationText();
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–∏–∑–æ—Å—Ç–∏ –∫ –∑–¥–∞–Ω–∏—è–º
        function checkBuildingProximity() {
            const menu = document.getElementById('buildingMenu');
            menu.style.display = 'none';

            gameState.buildings.forEach(building => {
                const distance = Math.sqrt(
                    Math.pow(gameState.playerPosition.x - building.x, 2) + 
                    Math.pow(gameState.playerPosition.y - building.y, 2)
                );

                if (distance < 40) {
                    menu.style.display = 'block';
                    menu.style.left = (building.x + 20) + 'px';
                    menu.style.top = (building.y - 40) + 'px';
                    gameState.currentLocation = building.name;
                }
            });
        }

        // –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –æ–±—ä–µ–∫—Ç–∞–º–∏
        function interact() {
            const menu = document.getElementById('buildingMenu');
            if (menu.style.display === 'block') {
                menu.style.display = 'none';
            } else {
                checkBuildingProximity();
            }
        }

        // –í—Ö–æ–¥ –≤ –∑–¥–∞–Ω–∏–µ
        function enterBuilding(type) {
            const messages = {
                house: "üè† –í—ã –¥–æ–º–∞! –ú–æ–∂–Ω–æ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç–Ω–µ—Ä–≥–∏—é.",
                car: "üöó –í—ã —Å–µ–ª–∏ –≤ –º–∞—à–∏–Ω—É! –ö—É–¥–∞ –ø–æ–µ–¥–µ–º?",
                bus: "üöå –í—ã –≤ –∞–≤—Ç–æ–±—É—Å–µ! –í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä—à—Ä—É—Ç.",
                work: "üíº –í—ã –Ω–∞ —Ä–∞–±–æ—Ç–µ! –ù–∞—á–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å —á—Ç–æ–±—ã –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –¥–µ–Ω—å–≥–∏.",
                casino: "üé∞ –í—ã –≤ –∫–∞–∑–∏–Ω–æ! –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–¥–∞—á—É.",
                bank: "üè¶ –í—ã –≤ –±–∞–Ω–∫–µ! –£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ñ–∏–Ω–∞–Ω—Å–∞–º–∏."
            };

            showNotification(messages[type] || "–í—ã –≤–æ—à–ª–∏ –≤ –∑–¥–∞–Ω–∏–µ.");
            updateEnergy(-10);
        }

        // –†–∞–±–æ—Ç–∞
        function work() {
            const earnings = Math.floor(Math.random() * 100) + 50;
            gameState.money += earnings;
            updateEnergy(-20);
            showNotification(`üíº –í—ã –ø–æ—Ä–∞–±–æ—Ç–∞–ª–∏ –∏ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ $${earnings}!`);
            updateUI();
        }

        // –û—Ç–¥—ã—Ö
        function rest() {
            updateEnergy(30);
            showNotification("üè† –í—ã –æ—Ç–¥–æ—Ö–Ω—É–ª–∏ –¥–æ–º–∞ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ —ç–Ω–µ—Ä–≥–∏—é!");
        }

        // –í–æ–∂–¥–µ–Ω–∏–µ –º–∞—à–∏–Ω—ã
        function driveCar() {
            if (gameState.energy >= 15) {
                updateEnergy(-15);
                gameState.money -= 10; // –†–∞—Å—Ö–æ–¥—ã –Ω–∞ –±–µ–Ω–∑–∏–Ω
                showNotification("üöó –í—ã –ø—Ä–æ–∫–∞—Ç–∏–ª–∏—Å—å –Ω–∞ –º–∞—à–∏–Ω–µ! -$10 –∑–∞ –±–µ–Ω–∑–∏–Ω");
                updateUI();
            } else {
                showNotification("‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç–Ω–µ—Ä–≥–∏–∏ –¥–ª—è –ø–æ–µ–∑–¥–∫–∏!");
            }
        }

        // –ü–æ–µ–∑–¥–∫–∞ –Ω–∞ –∞–≤—Ç–æ–±—É—Å–µ
        function takeBus() {
            if (gameState.money >= 5) {
                gameState.money -= 5;
                updateEnergy(-5);
                showNotification("üöå –í—ã –ø—Ä–æ–µ—Ö–∞–ª–∏ –Ω–∞ –∞–≤—Ç–æ–±—É—Å–µ! -$5");
                updateUI();
            } else {
                showNotification("‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–µ–Ω–µ–≥ –Ω–∞ –ø—Ä–æ–µ–∑–¥!");
            }
        }

        // –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É
        function startJob(jobType) {
            const jobs = {
                driver: { name: "–¢–∞–∫—Å–∏—Å—Ç", earnings: 80, energy: 25 },
                office: { name: "–û—Ñ–∏—Å–Ω—ã–π —Ä–∞–±–æ—Ç–Ω–∏–∫", earnings: 120, energy: 30 },
                casino: { name: "–ö—Ä—É–ø—å–µ", earnings: 150, energy: 35 },
                investor: { name: "–ò–Ω–≤–µ—Å—Ç–æ—Ä", earnings: 200, energy: 40 }
            };

            const job = jobs[jobType];
            if (gameState.energy >= job.energy) {
                gameState.money += job.earnings;
                updateEnergy(-job.energy);
                showNotification(`üíº –í—ã –ø–æ—Ä–∞–±–æ—Ç–∞–ª–∏ –∫–∞–∫ ${job.name} –∏ –∑–∞—Ä–∞–±–æ—Ç–∞–ª–∏ $${job.earnings}!`);
                updateUI();
            } else {
                showNotification("‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç–Ω–µ—Ä–≥–∏–∏ –¥–ª—è —ç—Ç–æ–π —Ä–∞–±–æ—Ç—ã!");
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏
        function updateEnergy(change) {
            gameState.energy = Math.max(0, Math.min(100, gameState.energy + change));
            document.getElementById('energy').textContent = gameState.energy + '%';
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            document.getElementById('money').textContent = '$' + gameState.money.toLocaleString();
            document.getElementById('energy').textContent = gameState.energy + '%';
            document.getElementById('level').textContent = gameState.level;
            document.getElementById('time').textContent = gameState.time;
            document.getElementById('currentLocation').textContent = gameState.currentLocation;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ª–æ–∫–∞—Ü–∏–∏
        function updateLocationText() {
            const locations = [
                "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —É–ª–∏—Ü–∞",
                "–ñ–∏–ª–æ–π —Ä–∞–π–æ–Ω", 
                "–î–µ–ª–æ–≤–æ–π –∫–≤–∞—Ä—Ç–∞–ª",
                "–¢–æ—Ä–≥–æ–≤–∞—è –∑–æ–Ω–∞",
                "–†–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π —Ä–∞–π–æ–Ω"
            ];
            const randomLocation = locations[Math.floor(Math.random() * locations.length)];
            document.getElementById('currentLocation').textContent = randomLocation;
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // –ò–≥—Ä–æ–≤—ã–µ —á–∞—Å—ã
        function startGameClock() {
            let minutes = 0;
            let hours = 8;
            
            setInterval(() => {
                minutes += 10;
                if (minutes >= 60) {
                    minutes = 0;
                    hours = (hours + 1) % 24;
                }
                gameState.time = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;
                updateUI();
            }, 5000); // 5 —Å–µ–∫—É–Ω–¥ = 10 –º–∏–Ω—É—Ç –∏–≥—Ä–æ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
        }

        // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
        function setupKeyboardControls() {
            document.addEventListener('keydown', (event) => {
                switch(event.key) {
                    case 'ArrowUp': movePlayer('up'); break;
                    case 'ArrowDown': movePlayer('down'); break;
                    case 'ArrowLeft': movePlayer('left'); break;
                    case 'ArrowRight': movePlayer('right'); break;
                    case ' ': interact(); break;
                }
            });
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤–∫–ª–∞–¥–æ–∫
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –∫–æ–Ω—Ç–µ–Ω—Ç—ã
                document.querySelectorAll('.tab-content').forEach(c => c.style.display = 'none');
                
                // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∫–ª–∞–¥–∫—É
                tab.classList.add('active');
                const tabName = tab.getAttribute('data-tab');
                document.getElementById(`${tabName}Content`).style.display = 'block';
            });
        });

        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>